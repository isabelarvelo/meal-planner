<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meal Planner</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <header>
        <div class="container">
            <h1><i class="fas fa-utensils"></i> Meal Planner</h1>
            <nav>
                <ul>
                    <li><a href="#" class="nav-link active" data-page="recipes">Recipes</a></li>
                    <li><a href="#" class="nav-link" data-page="meal-plans">Meal Plans</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="container">
        <!-- Recipes Page -->
        <section id="recipes-page" class="page active">
            <div class="page-header">
                <h2>Recipes</h2>
                <div class="actions">
                    <div class="search-container">
                        <input type="text" id="recipe-search" placeholder="Search recipes...">
                        <button id="search-button"><i class="fas fa-search"></i></button>
                    </div>
                    <button id="add-recipe-button" class="primary-button">
                        <i class="fas fa-plus"></i> Add Recipe
                    </button>
                </div>
            </div>

            <div id="recipes-container" class="cards-container">
                <!-- Recipe cards will be added here dynamically -->
                <div class="loading">Loading recipes...</div>
            </div>
        </section>

        <!-- Meal Plans Page -->
        <section id="meal-plans-page" class="page">
            <div class="page-header">
                <h2>Meal Plans</h2>
                <button id="create-meal-plan-button" class="primary-button">
                    <i class="fas fa-plus"></i> Create Meal Plan
                </button>
            </div>

            <div id="meal-plans-container" class="cards-container">
                <!-- Meal plan cards will be added here dynamically -->
                <div class="loading">Loading meal plans...</div>
            </div>
        </section>

        <!-- Recipe Detail Modal -->
        <div id="recipe-modal" class="modal">
            <div class="modal-content">
                <span class="close-button">&times;</span>
                <div id="recipe-detail-content">
                    <!-- Recipe details will be added here dynamically -->
                </div>
            </div>
        </div>

        <!-- Add/Edit Recipe Modal -->
        <div id="add-recipe-modal" class="modal">
            <div class="modal-content">
                <span class="close-button">&times;</span>
                <h2 id="recipe-form-title">Add Recipe</h2>
                <form id="recipe-form">
                    <div class="form-group">
                        <label for="recipe-title">Title</label>
                        <input type="text" id="recipe-title" name="title" required>
                    </div>
                    
                    <div class="form-group">
                        <label>Meal Types</label>
                        <div class="checkbox-group">
                            <label><input type="checkbox" name="meal_types" value="breakfast"> Breakfast</label>
                            <label><input type="checkbox" name="meal_types" value="lunch"> Lunch</label>
                            <label><input type="checkbox" name="meal_types" value="dinner"> Dinner</label>
                            <label><input type="checkbox" name="meal_types" value="snack"> Snack</label>
                            <label><input type="checkbox" name="meal_types" value="dessert"> Dessert</label>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="recipe-ingredients">Ingredients (one per line)</label>
                        <textarea id="recipe-ingredients" name="ingredients" rows="5" required></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="recipe-instructions">Instructions (one step per line)</label>
                        <textarea id="recipe-instructions" name="instructions" rows="5" required></textarea>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="recipe-prep-time">Prep Time (minutes)</label>
                            <input type="number" id="recipe-prep-time" name="prep_time_minutes" min="0">
                        </div>
                        
                        <div class="form-group">
                            <label for="recipe-cook-time">Cook Time (minutes)</label>
                            <input type="number" id="recipe-cook-time" name="cook_time_minutes" min="0">
                        </div>
                        
                        <div class="form-group">
                            <label for="recipe-servings">Servings</label>
                            <input type="number" id="recipe-servings" name="servings" min="1">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="recipe-tags">Tags (comma separated)</label>
                        <input type="text" id="recipe-tags" name="tags">
                    </div>
                    
                    <div class="form-group">
                        <label>Dietary Restrictions</label>
                        <div class="checkbox-group">
                            <label><input type="checkbox" name="dietary_restrictions" value="vegetarian"> Vegetarian</label>
                            <label><input type="checkbox" name="dietary_restrictions" value="vegan"> Vegan</label>
                            <label><input type="checkbox" name="dietary_restrictions" value="gluten_free"> Gluten Free</label>
                            <label><input type="checkbox" name="dietary_restrictions" value="dairy_free"> Dairy Free</label>
                            <label><input type="checkbox" name="dietary_restrictions" value="nut_free"> Nut Free</label>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>Required Appliances</label>
                        <div class="checkbox-group">
                            <label><input type="checkbox" name="appliances" value="oven"> Oven</label>
                            <label><input type="checkbox" name="appliances" value="stovetop"> Stovetop</label>
                            <label><input type="checkbox" name="appliances" value="microwave"> Microwave</label>
                            <label><input type="checkbox" name="appliances" value="blender"> Blender</label>
                            <label><input type="checkbox" name="appliances" value="food_processor"> Food Processor</label>
                            <label><input type="checkbox" name="appliances" value="slow_cooker"> Slow Cooker</label>
                            <label><input type="checkbox" name="appliances" value="pressure_cooker"> Pressure Cooker</label>
                            <label><input type="checkbox" name="appliances" value="air_fryer"> Air Fryer</label>
                            <label><input type="checkbox" name="appliances" value="grill"> Grill</label>
                            <label><input type="checkbox" name="appliances" value="toaster"> Toaster</label>
                            <label><input type="checkbox" name="appliances" value="toaster_oven"> Toaster Oven</label>
                            <label><input type="checkbox" name="appliances" value="mixer"> Mixer</label>
                            <label><input type="checkbox" name="appliances" value="rice_cooker"> Rice Cooker</label>
                            <label><input type="checkbox" name="appliances" value="instant_pot"> Instant Pot</label>
                            <label><input type="checkbox" name="appliances" value="sous_vide"> Sous Vide</label>
                        </div>
                    </div>
                    
                    <div class="form-actions">
                        <button type="button" class="secondary-button cancel-button">Cancel</button>
                        <button type="submit" class="primary-button">Save Recipe</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Create Meal Plan Modal -->
        <div id="meal-plan-modal" class="modal">
            <div class="modal-content">
                <span class="close-button">&times;</span>
                <h2>Create Meal Plan</h2>
                <form id="meal-plan-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="meal-plan-start-date">Start Date</label>
                            <input type="date" id="meal-plan-start-date" name="start_date" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="meal-plan-end-date">End Date</label>
                            <input type="date" id="meal-plan-end-date" name="end_date" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>Meal Types to Include</label>
                        <div class="checkbox-group">
                            <label><input type="checkbox" name="meal_types" value="breakfast" checked> Breakfast</label>
                            <label><input type="checkbox" name="meal_types" value="lunch" checked> Lunch</label>
                            <label><input type="checkbox" name="meal_types" value="dinner" checked> Dinner</label>
                            <label><input type="checkbox" name="meal_types" value="snack"> Snack</label>
                            <label><input type="checkbox" name="meal_types" value="dessert"> Dessert</label>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="meal-plan-nutrition-goal">Nutrition Goal (optional)</label>
                        <select id="meal-plan-nutrition-goal" name="nutrition_goal">
                            <option value="">None</option>
                            <option value="balanced">Balanced</option>
                            <option value="low_carb">Low Carb</option>
                            <option value="high_protein">High Protein</option>
                            <option value="low_calorie">Low Calorie</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="meal-plan-budget">Budget Limit (optional)</label>
                        <input type="number" id="meal-plan-budget" name="budget_limit" min="0" step="0.01">
                    </div>
                    
                    <div class="form-actions">
                        <button type="button" class="secondary-button cancel-button">Cancel</button>
                        <button type="submit" class="primary-button">Generate Meal Plan</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Meal Plan Detail Modal -->
        <div id="meal-plan-detail-modal" class="modal">
            <div class="modal-content">
                <span class="close-button">&times;</span>
                <div id="meal-plan-detail-content">
                    <!-- Meal plan details will be added here dynamically -->
                </div>
            </div>
        </div>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2025 Meal Planner</p>
        </div>
    </footer>

    <script src="js/api.js"></script>
    <script src="js/recipe-parser.js"></script>  
    <script src="js/recipes.js"></script>
    <script src="js/meal-plans.js"></script>
    <script src="js/mcp-integration.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
